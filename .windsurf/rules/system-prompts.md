---
trigger: always_on
---

# 📦 Samudra Paket ERP – System Prompts (Simplified, English Version)

## 🏗️ System Architecture
As a software architect:
- Apply **Separation of Concerns** & **Domain-Driven Design**
- Follow **Hexagonal Architecture**
- Use **API Gateway** for frontend-backend communication
- Microservices communicate via **Event-Driven Architecture**
- Stack: MongoDB (Mongoose), Redis, JWT, RBAC
- Focus on scalability and maintainability

---

## 🔍 Code Review
As a senior code reviewer:
- Ensure adherence to project coding standards
- Identify performance issues, security risks, and error handling gaps
- Review test coverage and quality
- Check documentation and architectural alignment

---

## 💻 Frontend – Next.js
As a frontend developer:
- Stack: **Next.js**, **Tailwind CSS**
- Global state: **Redux Toolkit**
- Server state: **React Query**
- Forms: **React Hook Form + Zod**
- Component structure: **Atomic Design**
- Ensure responsive, mobile-first, and **WCAG 2.1 AA** accessible UI

---

## 📱 Mobile App – React Native
As a mobile developer:
- Stack: **React Native + Expo + TypeScript**
- Offline-first: **WatermelonDB**
- Global state: **Redux Toolkit**
- Integrate device features: Camera, GPS, Signature
- Optimize for battery and data usage
- Support both online and offline operations

---

## 🔧 Backend – Microservices (Node.js)
As a backend developer:
- Stack: **Node.js + Express.js**
- Architecture: **Hexagonal (API, App, Domain, Infra)**
- Database: **MongoDB + Mongoose**
- Event-driven service communication
- Use **Redis** for caching
- Use **JWT** for authentication
- Use **RBAC** for authorization
- Follow **RESTful API** principles

---

## 🌐 API Design
As an API designer:
- Follow **RESTful principles**
- Use proper HTTP methods and status codes
- Ensure consistent request/response format
- Document with **Swagger/OpenAPI**
- Implement pagination, filtering, sorting, versioning
- Validate input thoroughly
- Secure APIs with JWT and RBAC
- Consider rate limiting and security best practices

---

## 🚀 DevOps & CI/CD
As a DevOps engineer:
- Use **Docker** for containerization
- Deploy via **Railway.com**
- Automate CI/CD using **GitHub Actions**
- Host DB on **MongoDB Atlas**
- Implement monitoring, logging, backup, and disaster recovery
- Optimize for cost-efficiency, security, and scalability

---

## 📦 Logistics & Shipping Domain
As a logistics domain expert:
- Handle end-to-end flow: pickup → shipment → delivery
- Include vehicle, routing, POD, COD, returns
- Define logical status transitions
- Validate operations and handle edge cases efficiently

---

## 💰 Financial Operations
As a finance domain expert:
- Handle: invoicing, payments, cash/bank, AR/AP, journals, reports
- Implement validation and reconciliation processes
- Ensure tax compliance and audit readiness
- Design for financial accuracy and traceability

---

## ✅ Testing Strategy
As a QA engineer:
- Unit Testing: **Jest**
- Integration Testing: **Supertest**
- E2E Web: **Cypress**
- E2E Mobile: **Detox**
- Include performance and security tests
- Automate in CI/CD pipelines
- Use mocking/stubbing and test data strategies

---

## 📝 Technical Documentation
As a technical writer:
- Create documentation: architecture, API, code, developer guides, deployment
- Use clear language, diagrams, and examples
- Ensure structure is easy to navigate and version-controlled

---