{"level":"error","message":"HTTP POST /api/v1/auth/api/v1/auth/login Cannot set headers after they are sent to the client","meta":{"date":"Fri May 16 2025 22:48:29 GMT+0700 (Indochina Time)","error":{"code":"ERR_HTTP_HEADERS_SENT"},"errorCode":"ERR_HTTP_HEADERS_SENT","exception":true,"level":"error","message":"uncaughtException: Cannot set headers after they are sent to the client\nError [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:278:15)\n    at Function.<anonymous> (D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js:51:21)\n    at fallback (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:966:10)\n    at handleError (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:953:16)\n    at Timeout.<anonymous> (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:748:15)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","os":{"loadavg":[0,0,0],"uptime":184814.109},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","D:\\sarana-erp\\apps\\api-gateway\\src\\server.js"],"cwd":"D:\\sarana-erp\\apps\\api-gateway","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":68260,"external":3610292,"heapTotal":84160512,"heapUsed":35576160,"rss":125075456},"pid":20796,"uid":null,"version":"v22.15.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","cache-control":"no-cache","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3000","postman-token":"b00090ef-7a6c-4435-bb7b-185027c8b2d6","user-agent":"PostmanRuntime/7.43.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/api/v1/auth/login","query":{},"url":"/api/v1/auth/api/v1/auth/login"},"requestId":"fcbac19b-f631-4a00-b24e-e3330785a1b5","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:278:15)\n    at Function.<anonymous> (D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js:51:21)\n    at fallback (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:966:10)\n    at handleError (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:953:16)\n    at Timeout.<anonymous> (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:748:15)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","trace":[{"column":11,"file":"node:_http_outgoing","function":"ServerResponse.setHeader","line":699,"method":"setHeader","native":false},{"column":10,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.header","line":794,"method":"header","native":false},{"column":12,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.send","line":174,"method":"send","native":false},{"column":15,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.json","line":278,"method":"json","native":false},{"column":21,"file":"D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js","function":null,"line":51,"method":null,"native":false},{"column":10,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":"fallback","line":966,"method":null,"native":false},{"column":16,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":"handleError","line":953,"method":null,"native":false},{"column":15,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":null,"line":748,"method":null,"native":false},{"column":17,"file":"node:internal/timers","function":"listOnTimeout","line":588,"method":null,"native":false},{"column":7,"file":"node:internal/timers","function":"process.processTimers","line":523,"method":"processTimers","native":false}],"userId":null},"service":"api-gateway","timestamp":"2025-05-16T15:48:29.680Z"}
{"level":"error","message":"HTTP POST /api/v1/auth/api/v1/auth/login Cannot set headers after they are sent to the client","meta":{"date":"Fri May 16 2025 22:48:33 GMT+0700 (Indochina Time)","error":{"code":"ERR_HTTP_HEADERS_SENT"},"errorCode":"ERR_HTTP_HEADERS_SENT","exception":true,"level":"error","message":"uncaughtException: Cannot set headers after they are sent to the client\nError [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:278:15)\n    at Function.<anonymous> (D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js:51:21)\n    at fallback (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:966:10)\n    at handleError (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:953:16)\n    at Timeout.<anonymous> (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:748:15)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","os":{"loadavg":[0,0,0],"uptime":184817.687},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","D:\\sarana-erp\\apps\\api-gateway\\src\\server.js"],"cwd":"D:\\sarana-erp\\apps\\api-gateway","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":77528,"external":3619600,"heapTotal":84160512,"heapUsed":36062040,"rss":125165568},"pid":20796,"uid":null,"version":"v22.15.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","cache-control":"no-cache","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3000","postman-token":"606736b4-6145-4794-9245-b7e3e4b6ee1f","user-agent":"PostmanRuntime/7.43.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/api/v1/auth/login","query":{},"url":"/api/v1/auth/api/v1/auth/login"},"requestId":"ab9fb627-3056-4985-bebd-86eec2af65d5","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:278:15)\n    at Function.<anonymous> (D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js:51:21)\n    at fallback (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:966:10)\n    at handleError (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:953:16)\n    at Timeout.<anonymous> (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:748:15)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","trace":[{"column":11,"file":"node:_http_outgoing","function":"ServerResponse.setHeader","line":699,"method":"setHeader","native":false},{"column":10,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.header","line":794,"method":"header","native":false},{"column":12,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.send","line":174,"method":"send","native":false},{"column":15,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.json","line":278,"method":"json","native":false},{"column":21,"file":"D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js","function":null,"line":51,"method":null,"native":false},{"column":10,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":"fallback","line":966,"method":null,"native":false},{"column":16,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":"handleError","line":953,"method":null,"native":false},{"column":15,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":null,"line":748,"method":null,"native":false},{"column":17,"file":"node:internal/timers","function":"listOnTimeout","line":588,"method":null,"native":false},{"column":7,"file":"node:internal/timers","function":"process.processTimers","line":523,"method":"processTimers","native":false}],"userId":null},"service":"api-gateway","timestamp":"2025-05-16T15:48:33.260Z"}
{"level":"error","message":"HTTP POST /api/v1/auth/api/v1/auth/login Cannot set headers after they are sent to the client","meta":{"date":"Fri May 16 2025 22:49:18 GMT+0700 (Indochina Time)","error":{"code":"ERR_HTTP_HEADERS_SENT"},"errorCode":"ERR_HTTP_HEADERS_SENT","exception":true,"level":"error","message":"uncaughtException: Cannot set headers after they are sent to the client\nError [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:278:15)\n    at Function.<anonymous> (D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js:51:21)\n    at fallback (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:966:10)\n    at handleError (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:953:16)\n    at Timeout.<anonymous> (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:748:15)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","os":{"loadavg":[0,0,0],"uptime":184863.156},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","D:\\sarana-erp\\apps\\api-gateway\\src\\server.js"],"cwd":"D:\\sarana-erp\\apps\\api-gateway","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":68225,"external":3610297,"heapTotal":36450304,"heapUsed":34650000,"rss":81666048},"pid":20796,"uid":null,"version":"v22.15.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","cache-control":"no-cache","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3000","postman-token":"d94c9fbe-45c4-4e05-b3ab-e507dcbf9115","user-agent":"PostmanRuntime/7.43.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/api/v1/auth/login","query":{},"url":"/api/v1/auth/api/v1/auth/login"},"requestId":"2fc14a75-0cd8-4372-aa29-00a073d08546","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\sarana-erp\\node_modules\\express\\lib\\response.js:278:15)\n    at Function.<anonymous> (D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js:51:21)\n    at fallback (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:966:10)\n    at handleError (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:953:16)\n    at Timeout.<anonymous> (D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js:748:15)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","trace":[{"column":11,"file":"node:_http_outgoing","function":"ServerResponse.setHeader","line":699,"method":"setHeader","native":false},{"column":10,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.header","line":794,"method":"header","native":false},{"column":12,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.send","line":174,"method":"send","native":false},{"column":15,"file":"D:\\sarana-erp\\node_modules\\express\\lib\\response.js","function":"ServerResponse.json","line":278,"method":"json","native":false},{"column":21,"file":"D:\\sarana-erp\\apps\\api-gateway\\src\\api\\middlewares\\circuitBreakerMiddleware.js","function":null,"line":51,"method":null,"native":false},{"column":10,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":"fallback","line":966,"method":null,"native":false},{"column":16,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":"handleError","line":953,"method":null,"native":false},{"column":15,"file":"D:\\sarana-erp\\node_modules\\opossum\\lib\\circuit.js","function":null,"line":748,"method":null,"native":false},{"column":17,"file":"node:internal/timers","function":"listOnTimeout","line":588,"method":null,"native":false},{"column":7,"file":"node:internal/timers","function":"process.processTimers","line":523,"method":"processTimers","native":false}],"userId":null},"service":"api-gateway","timestamp":"2025-05-16T15:49:18.724Z"}
